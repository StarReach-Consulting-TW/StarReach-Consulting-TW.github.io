<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星睿顧問有限公司 (StarReach Consulting Ltd.)</title>
    <style>
        /* --- 基本樣式重設 --- */
        body, h1, h2, h3, p, ul, blockquote {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            line-height: 1.6;
        }
        body {
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- 1. 導覽列 (Header & Nav) --- */
        header {
            background-color: #ffffff;
            border-bottom: 1px solid #ddd;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 40px;
            z-index: 1000;
        }
		
.header-top-row {
    display: flex;
    justify-content: space-between; /* 將 Logo 和 Selector 推到兩側 */
    align-items: center;
    padding: 15px 0; /* 給予上下內邊距 */
}
        .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: #004a99; /* 專業的藍色調 */
        }
        nav ul {
            list-style: none;
            display: flex;
        }
        nav li {
            margin-left: 25px;
        }
        nav a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        nav a:hover {
            color: #004a99;
        }

        /* --- 2. 主視覺 (Hero Section) --- */
        .hero {
            background-color: #003366; /* 深藍色背景 */
            color: #ffffff;
            text-align: center;
            padding: 100px 20px;
        }
        .hero h1 {
            font-size: 2.8em;
            font-weight: 300;
            margin-bottom: 10px;
        }
        .hero p {
            font-size: 1.2em;
            color: #cceeff;
            margin-bottom: 30px;
        }
        .cta-button {
            display: inline-block;
            background-color: #007bff;
            color: #fff;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }
        .cta-button:hover {
            background-color: #0056b3;
        }

        /* --- 3. 內容區塊 (Sections) --- */
        section {
            background-color: #ffffff;
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .section-content {
            padding: 40px;
        }
        .section-content h2 {
            font-size: 2em;
            color: #004a99;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        /* --- 4. 服務項目 (Services) --- */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
        }
        .service-item {
            background-color: #f9f9f9;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #eee;
        }
        .service-item h3 {
            font-size: 1.3em;
            color: #333;
            margin-bottom: 10px;
        }
        .service-item p {
            font-size: 0.95em;
            color: #666;
        }

        /* --- 5. 團隊成員 (Team) - 新增樣式 --- */
        .team-intro {
            font-size: 1.1em;
            color: #555;
            text-align: center;
            margin-bottom: 30px;
            font-style: italic;
        }
        .divider {
            border: 0;
            height: 1px;
            background-color: #ddd;
            margin: 40px 0;
        }
        .team-grid {
            display: grid;
            grid-template-columns: 1fr; /* 手機上堆疊 */
            gap: 30px;
        }
        /* 在較大螢幕上並排 */
        @media (min-width: 768px) {
            .team-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }
        .team-member {
            background-color: #fdfdfd;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #eee;
            display: flex;
            flex-direction: column;
        }
        .team-member h3 {
            font-size: 1.4em;
            color: #004a99;
            margin-bottom: 8px;
        }
        .member-title {
            font-size: 1em;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }
        .team-member ul {
            list-style: none;
            padding-left: 0;
            margin-bottom: 15px;
            font-size: 0.95em;
        }
        .team-member li {
            margin-bottom: 8px;
            color: #444;
        }
        .team-member li strong {
            color: #111;
        }
        .team-member li a {
            color: #007bff;
            text-decoration: none;
        }
        .team-member li a:hover {
            text-decoration: underline;
        }
        .member-desc {
            font-size: 0.95em;
            color: #555;
            margin-bottom: 20px;
            flex-grow: 1; /* 讓描述區塊填滿空間，使座右銘對齊底部 */
        }
        .team-member blockquote {
            font-size: 1em;
            font-style: italic;
            color: #003366;
            border-left: 3px solid #007bff;
            padding-left: 15px;
            margin-top: auto; /* 將座右銘推到底部 */
        }

        /* --- (!!) 新增照片樣式 --- */
        .team-member-photo {
            width: 100%;
            height: auto;
            border-radius: 6px; /* 圓角 */
            margin-bottom: 20px; /* 和下方標題的間距 */
            object-fit: cover;
        }
        /* --- (!!) 新增照片樣式 結束 --- */

        .team-philosophy {
            text-align: center;
            margin-top: 30px;
        }
        .team-philosophy h3 {
            font-size: 1.5em;
            color: #004a99;
            margin-bottom: 15px;
        }
        .team-philosophy blockquote {
            font-size: 1.2em;
            font-style: italic;
            color: #333;
            line-height: 1.8;
            border: none;
            padding: 10px;
        }

        /* --- 6. 聯絡資訊 (Contact) --- */
        .contact-info ul {
            list-style: none;
            padding-left: 5px;
        }
        .contact-info li {
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .contact-info li strong {
            display: inline-block;
            width: 80px; /* 統一標籤寬度 */
            color: #004a99;
        }
        /* --- 7. 留言板 (Guestbook) - 新增樣式 --- */
        .guestbook-form {
            max-width: 600px;
            margin: 0 auto 30px auto;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background-color: #fcfcfc;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
            color: #004a99;
            margin-bottom: 5px;
        }
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box; /* 確保 padding 不會撐大寬度 */
            font-size: 1em;
        }
        .guestbook-form .cta-button {
            float: right;
            margin-top: 10px;
        }
        .comment-list {
            margin-top: 20px;
        }
        .comment-item {
            border-left: 4px solid #007bff;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        .comment-meta {
            font-size: 0.9em;
            color: #888;
            margin-bottom: 5px;
        }
        .comment-text {
            font-style: italic;
            color: #333;
        }
.delete-button {
    background: none;
    border: none;
    color: #cc0000; /* 紅色 */
    cursor: pointer;
    font-size: 0.8em;
    margin-left: 10px;
    padding: 2px 5px;
    border-radius: 3px;
    transition: background-color 0.2s;
}

.delete-button:hover {
    background-color: #ffe6e6; /* 淺紅色背景 */
    text-decoration: underline;
}


        /* --- 8. 頁尾 (Footer) --- */
        footer {
            text-align: center;
            padding: 30px;
            margin-top: 30px;
            color: #888;
            font-size: 0.9em;
        }

        /* --- (!!) 9. 手機版響應式樣式 (RWD) --- */
        @media (max-width: 767px) {
            
            /* 調整容器在手機上的邊距 */
            .container {
                padding: 10px;
            }

            /* 導覽列：Logo 換行，導覽項目接續在下一行 */
            header {
                flex-direction: column; /* 垂直堆疊 Logo 和 Nav */
                align-items: flex-start; /* 讓 Logo 和 Nav 靠左對齊 */
                padding: 15px;
            }
            
            /* Logo 換行後，讓導覽項目佔滿寬度 */
            nav {
                width: 100%;
                margin-top: 10px; /* Logo 和選單間距 */
                border-top: 1px solid #eee; /* 增加一條分隔線 */
                padding-top: 10px;
            }

            /* 導覽項目：保持水平排列，允許換行，間距微調 */
            nav ul {
                display: flex;
                flex-wrap: wrap; 
                justify-content: space-between; /* 靠左對齊選單項目 */
                padding-left: 0;
            }
            nav li {
                margin-left: 0;
                margin-right: 0;
                margin-bottom: 5px; 
            }

            /* 縮小 Hero 區塊的字體與間距 */
            .hero {
                padding: 60px 20px;
            }
            .hero h1 {
                font-size: 2.2em; /* 縮小標題 */
            }
            .hero p {
                font-size: 1.1em;
            }

            /* 縮小內容區塊的邊距 */
            .section-content {
                padding: 30px 20px;
            }
            .section-content h2 {
                font-size: 1.8em; /* 縮小 H2 標題 */
            }

            /* 讓聯絡資訊的標籤和內容垂直堆疊 */
        .contact-info ul {
            list-style: none;
            padding-left: 2px;
        }
        .contact-info li {
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .contact-info li strong {
            display: inline-block;
            width: 80px; /* 統一標籤寬度 */
            color: #004a99;
            /* 清除留言板送出按鈕的浮動效果 */
            .guestbook-form .cta-button {
                float: none;
                width: 100%; /* 讓按鈕在手機上佔滿寬度 */
                text-align: center;
            }
        }
        }
		
		/* --- 10. 錨點修正 (Anchor Fix) --- */
		/* 修正當點擊錨點連結時，標題被固定導覽列蓋住的問題 */
		section[id] {
			scroll-margin-top: 130px; 
		}
		
/* --- 11. 彈出視窗 (Message Box) --- */
.modal-backdrop {
    /* 讓背景遮罩整個畫面 */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* 半透明黑色背景 */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000; /* 確保它在最上層 */
}

.modal-content {
    background-color: white;
    padding: 25px 30px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    width: 300px; /* 訊息框寬度 */
    text-align: center;
}

.modal-content p {
    margin-bottom: 20px;
    font-size: 16px;
    color: #333;
}

#alert-ok-button {
    padding: 8px 20px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.2s;
}

#alert-ok-button:hover {
    background-color: #0056b3;
}
		
/* --- 12. 翻譯 (Google Translate) --- */
/* 隱藏原生選單容器 (必須保留此元素讓 JS 載入) */
#google_translate_element { 
    display: none; 
    visibility: hidden;
    height: 0;
    width: 0;
    line-height: 0;
    overflow: hidden;
}

/* 自訂選單樣式，確保文字不會太過擁擠 */
#custom-language-selector {
    position: static;
    margin: 0;
    background: none; 
    padding: 0;
    border-radius: 0;
    box-shadow: none;
}

/* 調整下拉選單樣式 */
#language-select {
    padding: 5px;
    font-size: 14px;
    border: 1px solid #ccc;
    border-radius: 3px;
    cursor: pointer;
}
		
/* --- 13. 隱藏 Google 翻譯頂部橫幅及相關元素 --- */
/* 1. 隱藏主要提示橫幅的 iFrame 或頂層容器 */
/* 這是隱藏 "這頁面已翻譯..." 提示的關鍵 */
.goog-te-banner-frame { 
    visibility: hidden !important; 
    height: 0 !important; 
    display: none !important;
}

/* 2. 修正 Google 翻譯可能對 body 元素造成的位移 */
/* 有時 Google 會為橫幅預留空間，導致網頁內容下移 */
body {
    top: 0px !important; 
    margin-top: 0px !important;
}

/* 3. 隱藏可能在右下角出現的翻譯浮動按鈕 */
/* 如果您沒有看到這個按鈕，可以省略這段 */
.goog-logo-link {
    display: none !important;
}
.goog-tooltip {
    display: none !important;
}
.goog-tooltip:hover {
    display: none !important;
}

/* 4. 新增更強制的選擇器，隱藏頂部橫幅及其可能產生的位移 */
html.translated-rm-topbar body {
    margin-top: 0 !important;
    top: 0 !important;
}

/* 隱藏可能的頂部遮罩 */
#goog-gt-vt {
    display: none !important;
}

        /* --- RWD 樣式結束 --- */

    </style>
</head>
<body>

    <header>
	    <div style="display: flex; align-items: center;">
        <div class="logo">✨ 星睿顧問 ✨</div>

	<div id="custom-language-selector">
            <select id="language-select">
                <option value="zh-TW">中文 (繁體)</option>
                <option value="zh-CN">中文 (简体)</option>
                <option value="ja">日本語</option>
                <option value="ko">한국어</option>
                <option value="en">English</option>
                <option value="th">ภาษาไทย</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
                <option value="it">Italiano</option>
            </select>
        </div>
        <div id="google_translate_element"></div>
    </div>
		
        <nav>
            <ul>
                <li><a href="#home">⭐️</a></li>
                <li><a href="#about">關於我們</a></li>
                <li><a href="#services">核心服務</a></li>
                <li><a href="#team">團隊成員</a></li> 
				<li><a href="#contact">聯絡我們</a></li>
				<li><a href="#guestbook">留言板</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" id="home">
        <h1>「我們不預測未來，我們設計未來。」</h1>
        <p>星睿顧問有限公司 (StarReach Consulting Ltd.)</p>
        <a href="#services" class="cta-button">了解更多服務</a>
    </section>

    <main class="container">
        <section id="about">
            <div class="section-content">
                <h2>關於 StarReach</h2>
                <p>
                    創立於 2012 年，星睿顧問是一家提供企業管理、品牌策略與跨國專案顧問服務的公司。我們致力於為客戶提供最精準的市場洞察與可執行的未來策略，協助企業在多變的全球市場中穩健成長。
                </p>
            </div>
        </section>

        <section id="services">
            <div class="section-content">
                <h2>核心服務</h2>
                <div class="services-grid">
                    <div class="service-item">
                        <h3>企業管理顧問</h3>
                        <p>「組織架構優化、營運流程再造、績效管理系統導入等。」</p>
                    </div>
                    <div class="service-item">
                        <h3>品牌策略規劃</h3>
                        <p>「市場定位、品牌識別設計、整合行銷傳播、數位轉型策略等。」</p>
                    </div>
                    <div class="service-item">
                        <h3>跨國專案顧問</h3>
                        <p>「海外市場進入策略、跨國併購整合、供應鏈管理、國際法規諮詢等。」</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="team">
            <div class="section-content">
                <h2>團隊成員 | Our People</h2>
                <p class="team-intro">
                    在星睿顧問，我們相信每一位顧問的觀點，都能為複雜問題找到不同解答。<br>
                    三位成員各具鮮明個性與專業領域，他們的存在本身，就是這間公司的縮影。
                </p>
                <hr class="divider">
                <div class="team-grid">
                    <div class="team-member">
                        <img src="ni-tong-shih.jpg" alt="倪佟識" class="team-member-photo">
                        <h3>👔 倪佟識 NÍ, Tong-shih</h3>
                        <p class="member-title">資深顧問 / Senior Consultant</p>
                        <ul>
                            <li><strong>📍 專長領域：</strong>企業流程分析、內部管理制度優化、組織溝通策略</li>
                            <li><strong>🎓 學歷：</strong>政治大學企業管理研究所</li>
                            <li><strong>📧 聯絡信箱：</strong><a href="mailto:tony.ni@starreach.com.tw">tony.ni@starreach.com.tw</a></li>
                        </ul>
                        <p class="member-desc">
                            具十餘年顧問與專案管理經驗，擅長從流程中發現結構問題。
                            對內部效率、報告架構與決策節奏有獨到見解，常以犀利的觀點指出盲點。
                            他的同事形容他「反應極快、邏輯精準、偶爾過於直接」，但成果往往不容質疑。
                        </p>
                        <blockquote>💬 個人座右銘：「真正的問題從來不在我這裡。」</blockquote>
                    </div>

                    <div class="team-member">
                        <img src="shen-po-lin.png" alt="沈柏霖" class="team-member-photo">
                        <h3>📊 高亦登 GAO, Yi-deng</h3>
                        <p class="member-title">策略顧問 / Strategy Consultant</p>
                        <ul>
                            <li><strong>📍 專長領域：</strong>市場結構研究、財務建模、企業策略分析</li>
                            <li><strong>🎓 學歷：</strong>倫敦政經學院（LSE）管理碩士</li>
                            <li><strong>📧 聯絡信箱：</strong><a href="mailto:eden.gao@starreach.com.tw">eden.gao@starreach.com.tw</a></li>
                        </ul>
                        <p class="member-desc">
                            以冷靜與精準著稱，是團隊中最理性、最少情緒的分析師。
                            對數據與邏輯結構有近乎強迫的完美主義，任何推論都需有依據。
                            他話不多，卻能在一句評論裡讓整個會議靜默。
                        </p>
                        <blockquote>💬 個人座右銘：「事實不會說謊，除非你沒讀懂它。」</blockquote>
                    </div>

                    <div class="team-member">
                        <img src="lin-tzu-wei.png" alt="林子維" class="team-member-photo">
                        <h3>🧾 沃歆芢 WO, Xin-jen</h3>
                        <p class="member-title">專案助理 / Project Associate</p>
                        <ul>
                            <li><strong>📍 專長領域：</strong>專案文件管理、會議紀錄、部門協調支援</li>
                            <li><strong>🎓 學歷：</strong>淡江大學公共行政系</li>
                            <li><strong>📧 聯絡信箱：</strong><a href="mailto:xinjen.wo@starreach.com.tw">xinjen.wo@starreach.com.tw</a></li>
						</ul>
                        <p class="member-desc">
                            新進成員，細心負責，具備高度學習能力。
                            主要負責資料整合與跨部門溝通，協助顧問完成各類文件與簡報。
                            以謙和、穩定的態度深受客戶與同事信任，是團隊運作中不可或缺的橋樑。
                        </p>
                        <blockquote>💬 個人座右銘：「沒有人是一開始就懂的。」</blockquote>
                    </div>
                </div>
                
                <hr class="divider">

                <div class="team-philosophy">
                    <h3>🪞 團隊理念 | Team Philosophy</h3>
                    <blockquote>
                        我們相信「顧問」不只是給答案的人，<br>
                        而是能在混亂中看見邏輯、<br>
                        在組織的縫隙間找到平衡的人。
                    </blockquote>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="section-content">
                <h2>聯絡我們</h2>
                <div class="contact-info">
                    <ul>
                        <li><strong>📍 地址</strong>：110 台北市信義區松仁路178號15樓</li>
                        <li><strong>📞 電話</strong>：(02) 8787-0923</li>
                        <li><strong>📠 傳真</strong>：(02) 8787-0931</li>
                        <li><strong>📧 電郵</strong>：<a href="mailto:contact@starreach.com.tw">contact@starreach.com.tw</a></li>
                        <li><strong>🌐 網站</strong>：<a href="https://starreach-consulting-tw.github.io/" target="_blank">https://starreach-consulting-tw</a></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="guestbook">
            <div class="section-content">
                <h2>客戶留言板 | Guestbook</h2>
                <form class="guestbook-form" id="guestbookForm">
                    <p>感謝您的意見，您的留言將有助於我們提升服務品質。</p>
                    <div class="form-group">
                        <label for="comment-name">您的稱謂 (必填)</label>
                        <input type="text" id="comment-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="comment-email">電子郵件 (選填，不會公開)</label>
                        <input type="email" id="comment-email" name="email">
                    </div>
                    <div class="form-group">
                        <label for="comment-content">留言內容 (必填)</label>
                        <textarea id="comment-content" name="content" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="cta-button">送出留言</button>
                    <div style="clear: both;"></div> </form>

                <hr class="divider">

                <h3>近期客戶回饋</h3>
                <div class="comment-list" id="commentList">
                    </div>
            </div>
        </section>
		
        </main>


    <footer>
        <p>&copy; 2025 星睿顧問有限公司 (StarReach Consulting Ltd.) 版權所有。</p>
    </footer>
	
<div id="custom-alert-modal" class="modal-backdrop" style="display: none;">
    <div class="modal-content">
        <p id="alert-message"></p>
        <button id="alert-ok-button">確定</button>
    </div>
</div>



    <script>
        const STORAGE_KEY = 'starreach_guestbook_comments';

        // 輔助函數：生成一個簡單的唯一 ID
        function generateId() {
            // 確保 ID 在同一毫秒內也是唯一的
            return Date.now().toString(36) + Math.random().toString(36).substring(2);
        }

        // 初始範例留言 (已包含 ID)
        const initialComments = [
            {
                // 新增一個前綴 'initial-' 來標記為預設留言
                id: 'initial-' + generateId(), 
                name: "王先生",
                date: "2025-11-01",
                content: "貴公司的策略顧問高先生提供的市場分析非常精闢，讓我們在面對新興市場時更有信心，流程優化建議也立竿見影！"
            },
            {
                // 新增一個前綴 'initial-' 來標記為預設留言
                id: 'initial-' + generateId(), 
                name: "李小姐 (XX 科技)",
                date: "2025-11-08",
                content: "感謝星睿顧問協助我們重新梳理了內部的管理流程，效率大幅提升。專業且效率極高。"
            }
        ];

        const commentListElement = document.getElementById('commentList');
        const formElement = document.getElementById('guestbookForm');

        // 渲染單條留言的 HTML (包含刪除按鈕)
        function createCommentElement(comment) {
            const commentItem = document.createElement('div');
            commentItem.className = 'comment-item';
            commentItem.dataset.commentId = comment.id; 
            
            // 【修改點】判斷是否為預設留言
            const isInitial = comment.id.startsWith('initial-'); 

            // 如果不是預設留言，才顯示刪除按鈕
            const deleteButtonHtml = isInitial 
                ? '' 
                : `<button class="delete-button" data-id="${comment.id}">刪除</button>`;

            commentItem.innerHTML = `
                <p class="comment-meta">
                    <strong>${comment.name}</strong> 於 ${comment.date} 留言 
                    ${deleteButtonHtml} </p>
                <p class="comment-text">「${comment.content}」</p>
            `;
            return commentItem;
        }
		
        // 【新增】自定義訊息框函式，用於替換原生的 alert()
        function showCustomAlert(message) {
            const modal = document.getElementById('custom-alert-modal');
            const msgElement = document.getElementById('alert-message');
            const okButton = document.getElementById('alert-ok-button');
            
            // 設置訊息內容
            msgElement.textContent = message;
            
            // 顯示模態框
            modal.style.display = 'flex';
            
            // 設置按鈕點擊事件，點擊後隱藏模態框
            okButton.onclick = () => {
                modal.style.display = 'none';
            };
        }

        // 核心新增函數：處理刪除留言
        function deleteComment(commentId) {
            // 【修改點】在執行刪除前檢查 ID 是否為預設留言
            if (commentId.startsWith('initial-')) {
                // 如果是預設留言，彈出自定義提示 (使用我們剛才建立的 showCustomAlert)
                showCustomAlert("預設留言不能刪除。");
                return;
            }

            // 使用自定義確認框（如果您有實作的話，否則繼續使用原生 confirm）
            if (!confirm("確定要刪除這則留言嗎？")) {
                return;
            }
            
            // 1. 從 localStorage 取得所有留言
            let comments = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

            // 2. 過濾掉要刪除的留言 (保留 ID 不等於目標 ID 的留言)
            const updatedComments = comments.filter(comment => comment.id !== commentId);

            // 3. 存回 localStorage
            localStorage.setItem(STORAGE_KEY, JSON.stringify(updatedComments));

			// 4. 重新渲染列表
            renderComments();


        }

        // 載入並渲染所有留言 (修正重點在這裡)
        function renderComments() {
            let comments;
            try {
                // 嘗試從本地儲存載入留言
                comments = JSON.parse(localStorage.getItem(STORAGE_KEY));
            } catch (e) {
                comments = null;
            }
            
            let shouldUpdateStorage = false; // 追蹤是否需要更新 localStorage

            if (!comments || comments.length === 0) {
                // 如果 localStorage 中沒有資料，則使用初始範例
                comments = initialComments;
                shouldUpdateStorage = true;
            } else {
                // **【修正重點】**
                // 檢查現有留言是否有 ID，若沒有則新增，並標記需更新
                comments = comments.map(comment => {
                    if (!comment.id) {
                        comment.id = generateId();
                        shouldUpdateStorage = true;
                    }
                    return comment;
                });
            }
            
            // 如果有留言被賦予了 ID，就存回 localStorage
            if (shouldUpdateStorage) {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(comments));
            }


            // 清空現有列表
            commentListElement.innerHTML = '';

            // 從最新留言開始顯示 (反轉陣列並迭代)
            comments.slice().reverse().forEach(comment => {
                commentListElement.appendChild(createCommentElement(comment));
            });
            
        }

        // 處理表單提交 (新增時，也要給新留言一個 ID)
        function handleFormSubmit(event) {
            event.preventDefault(); // 阻止表單預設提交 (即網頁刷新)

            const nameInput = document.getElementById('comment-name');
            const contentInput = document.getElementById('comment-content');
            
            // 驗證必填欄位
            if (!nameInput.value || !contentInput.value) {
                alert('請填寫稱謂和留言內容！');
                return;
            }

            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');

            const newComment = {
                id: generateId(), // 為新留言生成唯一 ID
                name: nameInput.value,
                date: `${year}-${month}-${day}`, // YYYY-MM-DD 格式
                content: contentInput.value
            };

            // 從 localStorage 取得現有留言，若無則為空陣列
            let comments = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

            // 新增留言並存回 localStorage
            comments.push(newComment);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(comments));

            // 重新渲染列表
            renderComments();

            // 清空表單
            nameInput.value = '';
            contentInput.value = '';
            document.getElementById('comment-email').value = ''; 
            
            // 給予使用者反饋
            alert('留言成功送出！');
        }

        // 初始化：載入留言並綁定事件
        document.addEventListener('DOMContentLoaded', () => {
			
		// 確保 commentListElement 在這裡被定義 (它已經是全域變數，但再次確認)
    const commentListElement = document.getElementById('commentList'); 
			if (window.localStorage && commentListElement) {
        renderComments();
        formElement.addEventListener('submit', handleFormSubmit);
			
		commentListElement.addEventListener('click', (event) => {
            
            // 1. 尋找被點擊元素最近的父級 .delete-button 元素
            const deleteButton = event.target.closest('.delete-button');
            
            if (deleteButton) {
                // 2. 如果找到了，就從該按鈕上取得 ID
                const idToDelete = deleteButton.dataset.id;
                deleteComment(idToDelete);
            }
        });
				
            } else {
                // 瀏覽器不支援 localStorage 時的提示
                console.error('您的瀏覽器不支援本地儲存，留言功能將無法運作。');
            }
        });
    </script>
	
<script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement(
        {
          pageLanguage: 'zh-TW', 
          includedLanguages: 'zh-TW,zh-CN,ja,ko,en,th,es,fr,it', 
          layout: google.translate.TranslateElement.InlineLayout.SIMPLE, 
          autoDisplay: false
        }, 
        'google_translate_element'
      );
    }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script>
    // 定義一個外部函式 doGTranslate，Google 翻譯工具的程式碼會在背景中呼叫它
    // 這是讓自訂選單與隱藏的 Google 翻譯元件互動的關鍵
    function doGTranslate(lang_pair) {
        // 如果傳入的語言對是 'zh-TW|zh-TW' (原始語言)，則直接退出
        if (lang_pair.includes('|zh-TW') && lang_pair.includes('zh-TW|')) return;

        var split = lang_pair.split('|');
        var targetLangCode = split[1]; // 取得目標語言代碼
        
        // 嘗試找到 iFrame 內的 select 元素
        var frame = document.getElementById('google_translate_element').getElementsByTagName('iframe')[0];
        
        if (frame) {
            // 由於 Same-Origin Policy，直接存取 iFrame 內容可能會失敗，
            // 但如果 Google 的 JS 已經準備好，它會暴露一個處理函式。
            // 這裡我們假設 Google 的 JS 已經在全域範圍內建立了一個隱藏的 Select 元件
            try {
                var select = frame.contentWindow.document.getElementsByTagName('select')[0];
                if (select) {
                    select.value = targetLangCode;
                    // 模擬 change 事件來觸發翻譯
                    select.dispatchEvent(new Event('change')); 
                    return;
                }
            } catch(e) {
                // 如果因安全性限制無法存取 iFrame (最常見的情況)
                console.warn("Same-Origin Policy blocked iFrame access. Using URL Hash fallback.");
            }
        }
        
        // 備用方案：如果無法存取 select，則手動改變 URL 的 Hash，讓 Google 翻譯元件自行偵測
        window.location.hash = '#googtrans(' + lang_pair + ')';
        window.location.reload(); 
    }


    // 3. 核心邏輯：監聽下拉選單的 'change' 事件
    document.addEventListener('DOMContentLoaded', function() {
        var selectElement = document.getElementById('language-select');
        var originalLang = 'zh-TW'; 

        if (!selectElement) return;

        selectElement.addEventListener('change', function() {
            var targetLang = this.value; 
            
            // 核心變動：直接呼叫 doGTranslate
            // 格式為 '原始語言|目標語言'
            doGTranslate(originalLang + '|' + targetLang);
        });
    });

	
// 預留空間的 JS 調整
function handleTranslationChange() {
    // 檢查 Google 翻譯工具列是否已載入 (通常會在 body 上加上 'skiptranslate' class)
    const isTranslated = document.body.classList.contains('skiptranslate');

    if (isTranslated) {
        // 如果正在翻譯，強制設定 Header 的位置在 Google Toolbar 下方
        document.querySelector('header').style.top = '40px';
    } else {
        // 如果沒有翻譯，將 Header 設回最頂端
        document.querySelector('header').style.top = '0';
    }
}

// 在翻譯元件載入後和語言切換時執行
window.addEventListener('load', function() {
    // 等待 Google 翻譯元件載入
    setTimeout(handleTranslationChange, 500); 
});
document.getElementById('language-select').addEventListener('change', handleTranslationChange);

</script>


</body>
</html>

